module.exports=function(t){var o={};function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=o,r.d=function(t,o,e){r.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,o){if(1&o&&(t=r(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)r.d(e,n,function(o){return t[o]}.bind(null,n));return e},r.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(o,"a",o),o},r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},r.p="",r(r.s=15)}([function(t,o){t.exports=flarum.core.compat.app},function(t,o){t.exports=flarum.core.compat.extend},function(t,o,r){"use strict";function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(o,"a",(function(){return e}))},function(t,o,r){"use strict";function e(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}r.d(o,"a",(function(){return e}))},function(t,o,r){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,o){return!o||"object"!==e(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):o}r.d(o,"a",(function(){return n}))},function(t,o){t.exports=flarum.core.compat["components/CommentPost"]},function(t,o){t.exports=flarum.core.compat["components/Button"]},,function(t,o){t.exports=flarum.core.compat.Model},function(t,o){t.exports=flarum.core.compat.Store},function(t,o){t.exports=flarum.core.compat.Component},function(t,o){t.exports=flarum.core.compat["helpers/icon"]},,,,function(t,o,r){"use strict";r.r(o);var e=r(1),n=r(0),l=r.n(n),u=r(8),i=r.n(u),a=r(9),s=r.n(a);function c(t,o){t&&t.attributes&&t.attributes.hasOwnProperty("colorfulBordersStyle")&&!t.attributes.hasOwnProperty("savedColorfulBordersStyle")&&(o.data.attributes.savedColorfulBordersStyle=JSON.parse(JSON.stringify(t.attributes.colorfulBordersStyle)))}var f=r(5),p=r.n(f),d=(r(4),r(2),r(3)),y=r(10),b=r.n(y),h=r(6),g=r.n(h),S=r(11),O=r.n(S);var v="clarkwinkelmann-colorful-borders.forum.",B=function(t){Object(d.a)(r,t);var o;o=r;function r(){return t.apply(this,arguments)||this}var e=r.prototype;return e.init=function(){this.loading=!1},e.option=function(t,o,r){var e=this;return[m(".ColorfulBorders-Title",l.a.translator.trans(v+t)),m(".ColorfulBorders-Option",[m("label",[m("input",{type:"radio",checked:null===this.getStyle(o),onchange:function(){e.setStyle(o,null)}})," ",l.a.translator.trans(v+"default")]),r])]},e.colorOption=function(t,o){var r=this,e=l.a.forum.attribute("colorful-borders."+t+"s");return this.option(t,o,Array.isArray(e)?m(".ColorfulBorders-Option-Control",e.map((function(t){return m(".ColorfulBorders-ColorChoice",{style:{backgroundColor:t},onclick:function(){r.setStyle(o,t)},className:r.getStyle(o)===t?"selected":""})}))):m("input.ColorfulBorders-Option-Control",{type:"color",value:this.getStyle(o),onchange:function(t){r.setStyle(o,t.target.value)}}))},e.rangeOption=function(t){var o=this,r=l.a.forum.attribute("colorful-borders."+t+"Min"),e=l.a.forum.attribute("colorful-borders."+t+"Max");return r===e?this.option(t,t,m("label.ColorfulBorders-Option-Control",[m("input",{type:"radio",checked:this.getStyle(t)===r+"px",onchange:function(){o.setStyle(t,r+"px")}})," "+r+"px"])):this.option(t,t,m("input.ColorfulBorders-Option-Control",{type:"range",min:r,max:e,value:parseInt(this.getStyle(t)),oninput:function(r){o.setStyle(t,r.target.value+"px")}}))},e.view=function(){var t=this;return m(".Dropdown.ColorfulBorders",[m("a.Dropdown-toggle",{"data-toggle":"dropdown"},[O()("fas fa-palette")," ",l.a.translator.trans(v+"edit")]),m(".Dropdown-menu",{config:function(t,o){o||t.addEventListener("click",(function(t){return t.stopPropagation()}))}},[l.a.forum.attribute("colorful-borders.enableBorderColor")?this.colorOption("borderColor","borderColor"):null,l.a.forum.attribute("colorful-borders.enableBackgroundColor")?this.colorOption("backgroundColor","backgroundColor"):null,l.a.forum.attribute("colorful-borders.enableTextColor")?this.colorOption("textColor","color"):null,l.a.forum.attribute("colorful-borders.enableBorderWidth")?this.rangeOption("borderWidth"):null,l.a.forum.attribute("colorful-borders.enableBorderRadius")?this.rangeOption("borderRadius"):null,g.a.component({className:"Button Button--primary Button--block",disabled:!this.isDirty(),loading:this.loading,onclick:function(){t.loading=!0,t.props.resource.save({colorfulBordersStyle:t.props.resource.attribute("colorfulBordersStyle")}).then((function(){t.loading=!1,m.redraw(),t.$(".Dropdown-toggle").dropdown("toggle")})).catch((function(o){throw t.loading=!1,o}))},children:l.a.translator.trans(v+"apply")}),g.a.component({className:"Button Button--block",disabled:null===this.props.resource.attribute("savedColorfulBordersStyle"),loading:this.loading,onclick:function(){t.loading=!0,t.props.resource.save({colorfulBordersStyle:null}).then((function(){t.loading=!1,m.redraw(),t.$(".Dropdown-toggle").dropdown("toggle")})).catch((function(o){throw t.loading=!1,o}))},children:l.a.translator.trans(v+"reset")})])])},e.isDirty=function(){return JSON.stringify(this.props.resource.data.attributes.colorfulBordersStyle)!==JSON.stringify(this.props.resource.data.attributes.savedColorfulBordersStyle)},e.config=function(t){var o=this;t||this.$().on("hide.bs.dropdown",(function(){o.isDirty()&&(o.props.resource.data.attributes.colorfulBordersStyle=o.props.resource.data.attributes.savedColorfulBordersStyle,m.redraw())}))},e.getStyle=function(t){var o=this.props.resource.attribute("colorfulBordersStyle");return o&&o.hasOwnProperty(t)?o[t]:null},e.setStyle=function(t,o){var r=this.props.resource.attribute("colorfulBordersStyle");r||(r={}),null===o?delete r[t]:r[t]=o,this.props.resource.data.attributes.colorfulBordersStyle=r},r}(b.a);l.a.initializers.add("clarkwinkelmann-colorful-borders",(function(){Object(e.extend)(s.a.prototype,"createRecord",(function(t,o,r){c(r,t)})),Object(e.extend)(i.a.prototype,"pushData",(function(t,o){c(o,this)})),Object(e.extend)(p.a.prototype,"headerItems",(function(t){this.props.post.attribute("canEditColorfulBordersStyle")&&t.add("colorful-borders",B.component({resource:this.props.post}))})),Object(e.extend)(p.a.prototype,"init",(function(){var t=this;this.subtree.check((function(){return JSON.stringify(t.props.post.attribute("colorfulBordersStyle"))}))})),Object(e.extend)(p.a.prototype,"attrs",(function(t){var o=this.props.post.attribute("colorfulBordersStyle");o&&(t.style||(t.style={}),Object.keys(o).forEach((function(r){t.style[r]=o[r]})))}))}))}]);
//# sourceMappingURL=forum.js.map
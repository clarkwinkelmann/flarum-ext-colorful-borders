{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@clarkwinkelmann/colorful-borders/webpack/bootstrap","webpack://@clarkwinkelmann/colorful-borders/webpack/runtime/compat get default export","webpack://@clarkwinkelmann/colorful-borders/webpack/runtime/define property getters","webpack://@clarkwinkelmann/colorful-borders/webpack/runtime/hasOwnProperty shorthand","webpack://@clarkwinkelmann/colorful-borders/webpack/runtime/make namespace object","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['forum/app']\"","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/extend']\"","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/Model']\"","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/Store']\"","webpack://@clarkwinkelmann/colorful-borders/./src/forum/saveOriginalStyling.ts","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@clarkwinkelmann/colorful-borders/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/Component']\"","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/components/Button']\"","webpack://@clarkwinkelmann/colorful-borders/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@clarkwinkelmann/colorful-borders/./src/forum/components/Editor.ts","webpack://@clarkwinkelmann/colorful-borders/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@clarkwinkelmann/colorful-borders/./src/forum/index.ts","webpack://@clarkwinkelmann/colorful-borders/./src/forum/stylePosts.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Store'];","import {extend} from 'flarum/common/extend';\nimport Model, {ModelData} from 'flarum/common/Model';\nimport Store from 'flarum/common/Store';\n\nfunction checkAndSave(data: ModelData | undefined, record: Model) {\n    // We only save when the colorfulBordersStyle attribute is present alone\n    // If the savedColorfulBordersStyle properly is present it must mean an error occurred and Model.save()\n    // is restoring the old attributes. When this happens we want to keep the old saved value as well so we skip this\n    if (data && data.attributes && data.attributes.hasOwnProperty('colorfulBordersStyle') && !data.attributes.hasOwnProperty('savedColorfulBordersStyle')) {\n        record.data.attributes!.savedColorfulBordersStyle = JSON.parse(JSON.stringify(data.attributes.colorfulBordersStyle));\n    }\n}\n\n/**\n * Save a copy of the data so we can restore it when leaving the editor without saving\n * We need to extend both Store.createRecord and Model.pushData to cover all situations\n * where the data is loaded from the database or updated after saving\n */\nexport default function () {\n    extend(Store.prototype, 'createRecord', function (record, type, data) {\n        checkAndSave(data, record);\n    });\n\n    extend(Model.prototype, 'pushData', function (returned, data) {\n        checkAndSave(data as ModelData, this);\n    });\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","import {Children, Vnode} from 'mithril';\nimport app from 'flarum/forum/app';\nimport Component, {ComponentAttrs} from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport Post from 'flarum/common/models/Post';\nimport icon from 'flarum/common/helpers/icon';\n\nconst translationPrefix = 'clarkwinkelmann-colorful-borders.forum.';\n\ninterface EditorAttrs extends ComponentAttrs {\n    resource: Post\n}\n\nexport default class Editor extends Component<EditorAttrs> {\n    loading: boolean = false;\n\n    option(key: string, styleKey: string, children: Children) {\n        return [\n            m('.ColorfulBorders-Title', app.translator.trans(translationPrefix + key)),\n            m('.ColorfulBorders-Option', [\n                m('label', [\n                    m('input', {\n                        type: 'radio',\n                        checked: this.getStyle(styleKey) === null,\n                        onchange: () => {\n                            this.setStyle(styleKey, null);\n                        },\n                    }),\n                    ' ',\n                    app.translator.trans(translationPrefix + 'default'),\n                ]),\n                children,\n            ]),\n        ];\n    }\n\n    colorOption(key: string, styleKey: string) {\n        const colors = app.forum.attribute('colorful-borders.' + key + 's');\n\n        return this.option(key, styleKey, Array.isArray(colors) ? m('.ColorfulBorders-Option-Control', colors.map(color => m('.ColorfulBorders-ColorChoice', {\n            style: {\n                backgroundColor: color,\n            },\n            onclick: () => {\n                this.setStyle(styleKey, color);\n            },\n            className: this.getStyle(styleKey) === color ? 'selected' : '',\n        }))) : m('input.ColorfulBorders-Option-Control', {\n            type: 'color',\n            value: this.getStyle(styleKey),\n            onchange: (event: Event) => {\n                this.setStyle(styleKey, (event.target as HTMLInputElement).value);\n            },\n        }));\n    }\n\n    rangeOption(key: string) {\n        const min = app.forum.attribute('colorful-borders.' + key + 'Min');\n        const max = app.forum.attribute('colorful-borders.' + key + 'Max');\n\n        // If there's a single option, we show it as a radio button\n        if (min === max) {\n            return this.option(key, key, m('label.ColorfulBorders-Option-Control', [\n                m('input', {\n                    type: 'radio',\n                    checked: this.getStyle(key) === (min + 'px'),\n                    onchange: () => {\n                        this.setStyle(key, min + 'px');\n                    },\n                }),\n                ' ' + min + 'px',\n            ]));\n        }\n\n        return this.option(key, key, m('input.ColorfulBorders-Option-Control', {\n            type: 'range',\n            min,\n            max,\n            value: parseInt(this.getStyle(key) || '0'), // parseInt() will remove the \"px\" suffix\n            oninput: (event: Event) => {\n                this.setStyle(key, (event.target as HTMLInputElement).value + 'px');\n            },\n        }));\n    }\n\n    view() {\n        return m('.Dropdown.ColorfulBorders', [\n            m('a.Dropdown-toggle', {\n                'data-toggle': 'dropdown',\n            }, [\n                icon('fas fa-palette'),\n                ' ',\n                app.translator.trans(translationPrefix + 'edit'),\n            ]),\n            m('.Dropdown-menu', {\n                onclick(event: Event) {\n                    // Prevent dropdown closing on click\n                    event.stopPropagation();\n                    event.redraw = false;\n                }\n            }, [\n                app.forum.attribute('colorful-borders.enableBorderColor') ? this.colorOption('borderColor', 'borderColor') : null,\n                app.forum.attribute('colorful-borders.enableBackgroundColor') ? this.colorOption('backgroundColor', 'backgroundColor') : null,\n                app.forum.attribute('colorful-borders.enableTextColor') ? this.colorOption('textColor', 'color') : null,\n                app.forum.attribute('colorful-borders.enableBorderWidth') ? this.rangeOption('borderWidth') : null,\n                app.forum.attribute('colorful-borders.enableBorderRadius') ? this.rangeOption('borderRadius') : null,\n                Button.component({\n                    className: 'Button Button--primary Button--block',\n                    disabled: !this.isDirty(),\n                    loading: this.loading,\n                    onclick: () => {\n                        this.loading = true;\n\n                        this.attrs.resource.save({\n                            colorfulBordersStyle: this.attrs.resource.attribute('colorfulBordersStyle'),\n                        }).then(() => {\n                            this.loading = false;\n                            m.redraw();\n                            // @ts-ignore dropdown plugin not type-hinted\n                            this.$('.Dropdown-toggle').dropdown('toggle');\n                        }).catch(e => {\n                            this.loading = false;\n                            throw e;\n                        });\n                    },\n                }, app.translator.trans(translationPrefix + 'apply')),\n                Button.component({\n                    className: 'Button Button--block',\n                    disabled: this.attrs.resource.attribute('savedColorfulBordersStyle') === null,\n                    loading: this.loading,\n                    onclick: () => {\n                        this.loading = true;\n\n                        this.attrs.resource.save({\n                            colorfulBordersStyle: null,\n                        }).then(() => {\n                            this.loading = false;\n                            m.redraw();\n                            // @ts-ignore dropdown plugin not type-hinted\n                            this.$('.Dropdown-toggle').dropdown('toggle');\n                        }).catch(e => {\n                            this.loading = false;\n                            throw e;\n                        });\n                    },\n                }, app.translator.trans(translationPrefix + 'reset')),\n            ]),\n        ]);\n    }\n\n    isDirty() {\n        return JSON.stringify(this.attrs.resource.data.attributes!.colorfulBordersStyle) !== JSON.stringify(this.attrs.resource.data.attributes!.savedColorfulBordersStyle);\n    }\n\n    oncreate(vnode: Vnode) {\n        super.oncreate(vnode);\n\n        this.$().on('hide.bs.dropdown', () => {\n            // Restore previous style\n            if (this.isDirty()) {\n                this.attrs.resource.data.attributes!.colorfulBordersStyle = this.attrs.resource.data.attributes!.savedColorfulBordersStyle;\n                m.redraw();\n            }\n        });\n    }\n\n    getStyle(key: string) {\n        const style = this.attrs.resource.attribute<{ [key: string]: string }>('colorfulBordersStyle');\n\n        if (!style) {\n            return null;\n        }\n\n        if (!style.hasOwnProperty(key)) {\n            return null;\n        }\n\n        return style[key];\n    }\n\n    setStyle(key: string, value: string | null) {\n        let style = this.attrs.resource.attribute<{ [key: string]: string }>('colorfulBordersStyle');\n\n        if (!style) {\n            style = {};\n        }\n\n        if (value === null) {\n            delete style[key];\n        } else {\n            style[key] = value;\n        }\n\n        // We don't use .pushAttributes() because that would also update the saved copy\n        // But we only want to store the value temporarily to have a live preview\n        this.attrs.resource.data.attributes!.colorfulBordersStyle = style;\n    }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import app from 'flarum/forum/app';\nimport saveOriginalStyling from './saveOriginalStyling';\nimport stylePosts from './stylePosts';\n\napp.initializers.add('clarkwinkelmann-colorful-borders', () => {\n    saveOriginalStyling();\n    stylePosts();\n});\n","import {extend} from 'flarum/common/extend';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport Editor from './components/Editor';\n\nexport default function () {\n    extend(CommentPost.prototype, 'headerItems', function (items) {\n        if (this.attrs.post.attribute('canEditColorfulBordersStyle')) {\n            items.add('colorful-borders', Editor.component({\n                resource: this.attrs.post,\n            }));\n        }\n    });\n\n    extend(CommentPost.prototype, 'oninit', function () {\n        this.subtree.check(() => JSON.stringify(this.attrs.post.attribute('colorfulBordersStyle')));\n    });\n\n    extend(CommentPost.prototype, 'elementAttrs', function (attrs: any) {\n        const style = this.attrs.post.attribute<{ [key: string]: string }>('colorfulBordersStyle');\n\n        if (!style) {\n            return;\n        }\n\n        if (!attrs.style) {\n            attrs.style = {};\n        }\n\n        Object.keys(style).forEach(key => {\n            attrs.style[key] = style[key];\n        });\n    });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","checkAndSave","data","record","attributes","savedColorfulBordersStyle","JSON","parse","stringify","colorfulBordersStyle","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","translationPrefix","Editor","subClass","superClass","loading","create","constructor","option","styleKey","children","m","app","type","checked","this","getStyle","onchange","setStyle","colorOption","colors","Array","isArray","map","color","style","backgroundColor","onclick","className","event","target","rangeOption","min","max","parseInt","oninput","view","icon","stopPropagation","redraw","Button","disabled","isDirty","attrs","resource","save","attribute","then","$","dropdown","e","oncreate","vnode","on","Component","extend","Store","Model","returned","CommentPost","items","post","add","component","subtree","check","keys","forEach"],"sourceRoot":""}